openapi: 3.0.0
info:
  title: MEG19008 Middleware API
  description: MEG19008 Middleware API
  version: 0.0.1
servers:
  - url: http://localhost:8080/
tags:
  - name: scenarioTemplate
    description: Scenario templates
  - name: DIM, NUM constraints
    description: DIM, NUM constraints endpoints
  - name: userScenario
    description: User scenarios
  - name: optimizations
    description: optimizations list
  - name: costref
    description: costs ref dictionary
  - name: classification tables
    description: classification tables endpoints
  - name: user
    description: user model
paths:
  /scenarioTemplate:
    get:
      tags:
        - scenarioTemplate
      summary: Returns a collection of the scenario templates
      operationId: getScenarioTemplates
      parameters:
        - name: filterQuery
          in: query
          description: |
            Basic filtering criteria in exploded form. See [Basic Filtering](https://developer.sas.com/apis/rest/Topics/#basic-filtering)
          required: false
          style: form
          explode: true
          schema:
            type: string
            additionalProperties:
              type: string
        - name: filter
          in: query
          description: |
            Filter criteria for selecting objects to return. See [Filtering in SAS Viya REST APIs](https://developer.sas.com/apis/rest/Topics/#filters)
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: sortBy
          in: query
          description: Sort criteria for the collection
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: start
          in: query
          description: Offset of the first object to return. Defaults to 0.
          required: false
          style: form
          explode: true
          schema:
            type: integer
        - name: limit
          in: query
          description: Maximum number of objecs to return. Defaults to 10.
          required: false
          style: form
          explode: true
          schema:
            type: integer
      responses:
        "200":
          description: A collection of templates.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scenarioTemplateCollection'
      x-swagger-router-controller: ScenarioTemplate
    post:
      tags:
        - scenarioTemplate
      summary: Creates a new scenario template
      operationId: createScenarioTemplate
      requestBody:
        description: The new scenario template
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scenarioTemplateCreate'
        required: true
      responses:
        "201":
          description: The scenario template created
          headers:
            Location:
              description: The URI of the newly created scenario template.
              style: simple
              explode: false
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scenarioTemplate'
        "409":
          description: Template with such name already exists
      x-swagger-router-controller: ScenarioTemplate
  /scenarioTemplate/{scenarioTemplateCd}:
    delete:
      tags:
        - scenarioTemplate
      summary: Delete selected scenario template
      operationId: deleteScenarioTemplate
      parameters:
        - name: scenarioTemplateCd
          in: path
          description: The code of the deleting scenario
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Match
          in: header
          description: The entity tag obtained from the most recent ETag response header.
            It must match the current entity tag.
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Unmodified-Since
          in: header
          description: The value of the lastModified date of the object. If the object
            has been updated since this time, the update fails.
          required: false
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: Removed scenario template
      x-swagger-router-controller: ScenarioTemplate
    patch:
      tags:
        - scenarioTemplate
      summary: Make a partial update of a scenario template
      description: |
        Updates the provided fields of a scenario template. The client can provide a sparsely populated object, and only the non-null fields contribute to the updates. A body such as { "name": "NewScenarioTemplateName" } causes the scenario template to have its name changed, but no other field is affected. The full resulting object is returned in the response.
      operationId: patchScenarioTemplate
      parameters:
        - name: scenarioTemplateCd
          in: path
          description: The code of the updatable scenario template
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Match
          in: header
          description: The entity tag obtained from the most recent ETag response header.
            It must match the current entity tag.
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Unmodified-Since
          in: header
          description: The value of the lastModified date of the object. If the object
            has been updated since this time, the update fails.
          required: false
          style: simple
          explode: false
          schema:
            type: string
      requestBody:
        description: The scenario template to patch
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/scenarioTemplatePatch'
        required: true
      responses:
        "200":
          description: The patched scenario template
          headers:
            Last-Modified:
              $ref: '#/components/headers/Last-Modified'
            Etag:
              $ref: '#/components/headers/Etag'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scenarioTemplate'
      x-swagger-router-controller: ScenarioTemplate
  /constraints/dim:
    get:
      tags:
        - DIM, NUM constraints
      summary: Returns list of DIM constraints
      operationId: getDimConstraints
      responses:
        "200":
          description: A collection of DIM constraints
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/constraints'
      x-swagger-router-controller: DIMNUMConstraints
  /constraints/dim/{scenarioTemplateCd}:
    get:
      tags:
        - DIM, NUM constraints
      summary: Returns array of DIM restriction of particular template
      operationId: getTemplateDimConstraints
      parameters:
        - name: scenarioTemplateCd
          in: path
          description: Scenario template code for DIM constraints receiving
          required: true
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: Scenario template DIM constraints
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/scenarioTemplateDIMConstraints'
      x-swagger-router-controller: DIMNUMConstraints
  /constraints/dim/{userScenarioCd}/{constraintName}:
    delete:
      tags:
        - DIM, NUM constraints
      summary: Clear scenario dim constraint
      operationId: clearScenarioDimConstraint
      parameters:
        - name: userScenarioCd
          in: path
          description: user scenario code
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: constraintName
          in: path
          description: user scenario constraint name
          required: true
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: user scenario dim constraint deleted
      x-swagger-router-controller: DIMNUMConstraints
  /constraints/{userScenarioCd}/{scenarioConstraintCd}:
    delete:
      tags:
        - DIM, NUM constraints
      summary: Deletes constraint bundle of particular scenario
      operationId: deleteScenarioConstraintBundle
      parameters:
        - name: userScenarioCd
          in: path
          description: user scenario code
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: scenarioConstraintCd
          in: path
          description: scenario constraint id
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Match
          in: header
          description: The entity tag obtained from the most recent ETag response header.
            It must match the current entity tag.
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Unmodified-Since
          in: header
          description: The value of the lastModified date of the object. If the object
            has been updated since this time, the update fails.
          required: false
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: Removed user scenario bundle
      x-swagger-router-controller: DIMNUMConstraints
  /constraints/num:
    get:
      tags:
        - DIM, NUM constraints
      summary: Returns list of NUM constraints
      operationId: getNumConstraints
      responses:
        "200":
          description: A collection of NUM constraints
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/constraints'
      x-swagger-router-controller: DIMNUMConstraints
  /constraints/num/{scenarioTemplateCd}:
    get:
      tags:
        - DIM, NUM constraints
      summary: Returns list of NUM constraints for particular template
      operationId: getTemplateNumConstraints
      parameters:
        - name: scenarioTemplateCd
          in: path
          description: Scenario template code for DIM constraints receiving
          required: true
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: A collection of NUM constraints for particular template
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/constraints'
      x-swagger-router-controller: DIMNUMConstraints
  /constraints/{userScenarioCd}:
    get:
      tags:
        - DIM, NUM constraints
      summary: Returns constraints for particular user scenario constraint grid
      operationId: getScenarioConstraints
      parameters:
        - name: userScenarioCd
          in: path
          description: user scenario code
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: attrlist
          in: query
          description: list if of constraint attrs separated by comma
          required: false
          style: form
          explode: true
          schema:
            type: string
      responses:
        "200":
          description: User scenario constraints
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userScenarioConstraints'
      x-swagger-router-controller: DIMNUMConstraints
    patch:
      tags:
        - DIM, NUM constraints
      summary: Updates user scenario constraints bundles ACTIVE_FLG status
      operationId: patchUserScenarioBundles
      parameters:
        - name: userScenarioCd
          in: path
          description: user scenario code
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Match
          in: header
          description: The entity tag obtained from the most recent ETag response header.
            It must match the current entity tag.
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Unmodified-Since
          in: header
          description: The value of the lastModified date of the object. If the object
            has been updated since this time, the update fails.
          required: false
          style: simple
          explode: false
          schema:
            type: string
      requestBody:
        description: The new scenario template
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/userScenarioConstraintsUpdate'
        required: true
      responses:
        "200":
          description: Bundles successfully updated
      x-swagger-router-controller: DIMNUMConstraints
  /constraints:
    post:
      tags:
        - DIM, NUM constraints
      summary: Posts scenario constraints from user scenario constraints grid
      operationId: postScenarioConstraint
      requestBody:
        description: New user scenario constraint
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/userScenarioConstraintsCreate'
        required: true
      responses:
        "200":
          description: User scenario constraint been created
          headers:
            Location:
              description: The URI of the newly created scenario template.
              style: simple
              explode: false
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userScenarioConstraintsCreateResponse'
        "400":
          description: invalid body input
      x-swagger-router-controller: DIMNUMConstraints
  /userScenario:
    get:
      tags:
        - userScenario
      summary: Returns a collections of the user scenarios
      operationId: getUserScenarios
      parameters:
        - name: filterQuery
          in: query
          description: |
            Basic filtering criteria in exploded form. See [Basic Filtering](https://developer.sas.com/apis/rest/Topics/#basic-filtering)
          required: false
          style: form
          explode: true
          schema:
            type: string
            additionalProperties:
              type: string
        - name: filter
          in: query
          description: |
            Filter criteria for selecting objects to return. See [Filtering in SAS Viya REST APIs](https://developer.sas.com/apis/rest/Topics/#filters)
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: sortBy
          in: query
          description: Sort criteria for the collection
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: start
          in: query
          description: Offset of the first object to return. Defaults to 0.
          required: false
          style: form
          explode: true
          schema:
            type: integer
        - name: limit
          in: query
          description: Maximum number of objecs to return. Defaults to 10.
          required: false
          style: form
          explode: true
          schema:
            type: integer
      responses:
        "200":
          description: A collections of user scenarios
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userScenariosCollection'
      x-swagger-router-controller: UserScenario
    post:
      tags:
        - userScenario
      summary: Posts  user scenario
      operationId: createUserScenario
      requestBody:
        description: The new scenario template
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/userScenarioCreate'
        required: true
      responses:
        "201":
          description: User scenario posted
          headers:
            Location:
              description: The URI of the newly created scenario template.
              style: simple
              explode: false
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userScenarioCreate'
        "409":
          description: Scenario with such name already exists
      x-swagger-router-controller: UserScenario
  /userScenario/start:
    post:
      tags:
        - userScenario
      description: Start new optimization calculation
      operationId: startOptimization
      requestBody:
        description: data for scenario optimization init
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/userScenarioOptimizationStart'
        required: true
      responses:
        "200":
          description: Optimization started
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userScenarioOptimizationRes'
      x-swagger-router-controller: UserScenario
  /userScenario/{userScenarioCd}/copy:
    post:
      tags:
        - userScenario
      summary: Posts  user scenario
      operationId: copyUserScenario
      parameters:
        - name: userScenarioCd
          in: path
          description: user scenario code
          required: true
          style: simple
          explode: false
          schema:
            type: string
      requestBody:
        description: The new scenario template
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/body'
        required: true
      responses:
        "201":
          description: User scenario posted
          headers:
            Location:
              description: The URI of the newly created scenario template.
              style: simple
              explode: false
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_201'
        "409":
          description: Scenario with such name already exists
      x-swagger-router-controller: UserScenario
  /userScenario/dates:
    get:
      tags:
        - userScenario
      description: Returns list of available dates
      operationId: getBusinessDates
      responses:
        "200":
          description: list of dates
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/businessDates'
      x-swagger-router-controller: UserScenario
  /userScenario/optid/{userScenarioId}:
    get:
      tags:
        - userScenario
      description: Returns list of optimization ids for particular scenario
      operationId: getUserScenarioOptimizationIdList
      parameters:
        - name: userScenarioId
          in: path
          description: user scenario code
          required: true
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: list of optimization ids
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/optimizationsIdList'
      x-swagger-router-controller: UserScenario
  /userScenario/{userScenarioCd}:
    delete:
      tags:
        - userScenario
      summary: Deletes user scenario
      operationId: deleteUserScenario
      parameters:
        - name: userScenarioCd
          in: path
          description: The code of the updatable scenario template
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Match
          in: header
          description: The entity tag obtained from the most recent ETag response header.
            It must match the current entity tag.
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Unmodified-Since
          in: header
          description: The value of the lastModified date of the object. If the object
            has been updated since this time, the update fails.
          required: false
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: Removed scenario template
      x-swagger-router-controller: UserScenario
    patch:
      tags:
        - userScenario
      summary: Updates user scenarion and specify constraints
      operationId: patchUserScenario
      parameters:
        - name: userScenarioCd
          in: path
          description: The code of the updatable scenario template
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Match
          in: header
          description: The entity tag obtained from the most recent ETag response header.
            It must match the current entity tag.
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: If-Unmodified-Since
          in: header
          description: The value of the lastModified date of the object. If the object
            has been updated since this time, the update fails.
          required: false
          style: simple
          explode: false
          schema:
            type: string
      requestBody:
        description: The scenario template to patch
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/userScenarioPatch'
        required: true
      responses:
        "200":
          description: The patched user scenario
          headers:
            Last-Modified:
              $ref: '#/components/headers/Last-Modified'
            Etag:
              $ref: '#/components/headers/Etag'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userScenarioPatch'
      x-swagger-router-controller: UserScenario
  /userScenario/{userScenarioCd}/schedule:
    post:
      tags:
        - userScenario
      summary: post user scenario on schedule
      operationId: putScenarioOnSchedule
      parameters:
        - name: userScenarioCd
          in: path
          description: user scenario code
          required: true
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: scenario been put on schedule
      x-swagger-router-controller: UserScenario
  /optimizations:
    get:
      tags:
        - optimizations
      description: Returns list of all scenario optimizations
      operationId: getOptimizationsList
      parameters:
        - name: filterQuery
          in: query
          description: |
            Basic filtering criteria in exploded form. See [Basic Filtering](https://developer.sas.com/apis/rest/Topics/#basic-filtering)
          required: false
          style: form
          explode: true
          schema:
            type: string
            additionalProperties:
              type: string
        - name: filter
          in: query
          description: |
            Filter criteria for selecting objects to return. See [Filtering in SAS Viya REST APIs](https://developer.sas.com/apis/rest/Topics/#filters)
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: sortBy
          in: query
          description: Sort criteria for the collection
          required: false
          style: form
          explode: true
          schema:
            type: string
        - name: start
          in: query
          description: Offset of the first object to return. Defaults to 0.
          required: false
          style: form
          explode: true
          schema:
            type: integer
        - name: limit
          in: query
          description: Maximum number of objecs to return. Defaults to 10.
          required: false
          style: form
          explode: true
          schema:
            type: integer
      responses:
        "200":
          description: list of optimizations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/optimizationStartCollection'
      x-swagger-router-controller: Optimizations
  /optimizations/publish:
    post:
      tags:
        - optimizations
      description: publishes optimization
      operationId: publishOptimization
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/body_1'
      responses:
        "200":
          description: optimization publicated response
      x-swagger-router-controller: Optimizations
  /costreflist/{userScenarioCd}/get:
    get:
      tags:
        - costref
      summary: get all items
      operationId: getCostrefRecords
      parameters:
        - name: userScenarioCd
          in: path
          description: user scenario cd
          required: true
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: list of cost refs
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/costRefRecord'
      x-swagger-router-controller: Costref
  /costreflist/{userScenarioCd}/create:
    post:
      tags:
        - costref
      summary: create new channel cost ref record
      operationId: createCostrefRecord
      parameters:
        - name: userScenarioCd
          in: path
          description: user scenario cd
          required: true
          style: simple
          explode: false
          schema:
            type: string
      requestBody:
        description: The new scenario template
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/body_2'
        required: true
      responses:
        "200":
          description: channel cost ref
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/costRefRecord'
      x-swagger-router-controller: Costref
  /costreflist/{costrefId}/delete:
    delete:
      tags:
        - costref
      summary: create new channel cost ref record
      operationId: deleteCostrefRecord
      parameters:
        - name: costrefId
          in: path
          description: id of channel cost ref
          required: true
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: channel cost ref
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/costRefRecord'
      x-swagger-router-controller: Costref
  /classtables:
    get:
      tags:
        - classification tables
      description: Receives list of classification tables
      operationId: getClassificationTablesList
      responses:
        "200":
          description: list of classification tables
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/classificationTableList'
      x-swagger-router-controller: ClassificationTables
  /classtables/download/{tableId}:
    get:
      tags:
        - classification tables
      description: Downloads table file
      operationId: getClassificationTableFile
      parameters:
        - name: tableId
          in: path
          description: table id
          required: true
          style: simple
          explode: false
          schema:
            type: string
      responses:
        "200":
          description: table file
      x-swagger-router-controller: ClassificationTables
  /classtables/upload/{tableId}:
    post:
      tags:
        - classification tables
      description: Uploads table file
      operationId: postClassificationTableFile
      parameters:
        - name: tableId
          in: path
          description: table id
          required: true
          style: simple
          explode: false
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/body_3'
      responses:
        "200":
          description: table file
        "400":
          description: file not valid
      x-swagger-router-controller: ClassificationTables
  /getUser:
    get:
      tags:
        - user
      description: return user information
      operationId: getUser
      responses:
        "200":
          description: user model
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/user'
      x-swagger-router-controller: User
components:
  schemas:
    baseCollection:
      properties:
        start:
          type: integer
          description: The zero-based index of the first item in the collection.
        limit:
          type: integer
          description: The number of items that were requested for the collection.
        totalCount:
          type: integer
          description: The number of items in the collection.
      description: |
        This is a base schema used to define paginated collections of resources. This base schema is extended by other schemas in APIs by adding an 'items' array property.
    scenarioTemplateCollection:
      description: A collection of scenario templates
      allOf:
        - $ref: '#/components/schemas/baseCollection'
        - type: object
          properties:
            items:
              type: array
              description: An array consisting of scenario templates.
              items:
                $ref: '#/components/schemas/scenarioTemplate'
    scenarioTemplatePatch:
      properties:
        PATH:
          type: string
          description: The path to the file
        TARGET_ATTR_LABEL:
          type: string
          description: The used target function
        TEXT_COMMENT:
          type: string
          description: The comment to the scenario template
        SCT_CONSTRAINT_DIM_PARAMS:
          minLength: 1
          type: array
          description: An array consisting of the scenario template constraint params
          items:
            $ref: '#/components/schemas/scenarioTemplateConstraintDimParam'
        SCT_CONSTRAINT_NUM_PARAMS:
          minLength: 1
          type: array
          description: An array consisting of scenario template constraint params
          items:
            $ref: '#/components/schemas/scenarioTemplateConstraintNumParam'
      description: The scenario template to be patched
    scenarioTemplateCreate:
      required:
        - NAME
        - PATH
        - SCT_CONSTRAINT_DIM_PARAMS
        - SCT_CONSTRAINT_NUM_PARAMS
        - TARGET_ATTR_LABEL
      description: The new scenario template
      allOf:
        - $ref: '#/components/schemas/scenarioTemplatePatch'
        - type: object
          properties:
            NAME:
              type: string
              description: The name of the scenario template
    scenarioTemplate:
      description: The full representation of the scenario template
      allOf:
        - $ref: '#/components/schemas/scenarioTemplateCreate'
        - type: object
          properties:
            SCENARIO_TEMPLATE_CD:
              type: string
              description: The code of the scenario template
            USER_CREATED:
              type: string
              description: The user created the scenario template
            DTTM_CREATED:
              type: string
              description: The date and time the scenario template was created
              format: date-time
            USER_UPDATED:
              type: string
              description: The user updated the scenario template
            DTTM_UPDATED:
              type: string
              description: The date and time the scenario template was updated
              format: date-time
    scenarioTemplateConstraintDimParam:
      allOf:
        - $ref: '#/components/schemas/scenarioTemplateConstraintParam'
        - required:
            - DIM_TABLE_NAME
          type: object
          properties:
            DIM_TABLE_NAME:
              type: string
              description: The short name of the optimizator table
    scenarioTemplateConstraintNumParam:
      example:
        ATTR_NAME: CONV
        ATTR_LABEL: Конверсия
      allOf:
        - $ref: '#/components/schemas/scenarioTemplateConstraintParam'
    scenarioTemplateConstraintParam:
      required:
        - ATTR_LABEL
        - ATTR_NAME
      properties:
        ATTR_NAME:
          type: string
          description: |
            The name of the attribute of the constraint param.
        ATTR_LABEL:
          type: string
          description: The label of the attribute of the constraint param
      description: A scenario template constraint param
    userScenariosCollection:
      description: user scenarios collection
      allOf:
        - $ref: '#/components/schemas/baseCollection'
        - type: object
          properties:
            items:
              type: array
              description: array of user scenarios
              items:
                $ref: '#/components/schemas/userScenariosCollection_items'
    userScenarioCreate:
      required:
        - NAME_SCN
        - NAME_SCT
        - SCENARIO_TEMPLATE_CD
      properties:
        SCENARIO_TEMPLATE_CD:
          type: string
          description: Scenario template code attached to user scenario
        NAME_SCN:
          type: string
          description: User scenario name
        TEXT_COMMENT:
          type: string
          description: User scenario text comment
      description: The new user scenario
      example:
        NAME_SCN: NAME_SCN
        SCENARIO_TEMPLATE_CD: SCENARIO_TEMPLATE_CD
        TEXT_COMMENT: TEXT_COMMENT
    userScenario:
      required:
        - NAME_SCN
        - NAME_SCT
      properties:
        NAME_SCN:
          type: string
          description: User scenario name
        NAME_SCT:
          type: string
          description: Scenario template name attached to user scenario
        TEXT_COMMENT:
          type: string
          description: User scenario text comment
      description: The new user scenario
    userScenarioPatch:
      properties:
        TEXT_COMMENT:
          type: string
          description: text comment
      description: user scenario path requested body
      example:
        TEXT_COMMENT: TEXT_COMMENT
    userScenarioOptimizationStart:
      properties:
        NAME_SCN:
          type: string
          description: User scenario name
        SCENARIO_CD:
          type: string
          description: User scenario code
        BUSINESS_DTIME:
          type: string
          description: business date
        OPTIMIZATION_ID:
          type: string
          description: optimization id
        TEXT_COMMENT:
          type: string
          description: text comment
      description: data for optimization start
    userScenarioOptimizationRes:
      properties:
        START_AVAILABLE:
          type: boolean
          description: Flag is start available
        OPTIMIZATION_ID:
          type: string
          description: Id of optimization if available
      description: User scenario optimization start
      example:
        OPTIMIZATION_ID: OPTIMIZATION_ID
        START_AVAILABLE: true
    constraints:
      type: array
      description: Constraints
      items:
        $ref: '#/components/schemas/constraints_inner'
    scenarioTemplateDIMConstraints:
      type: array
      description: A collection of DIM constraints associated with template
      items:
        $ref: '#/components/schemas/scenarioTemplateDIMConstraints_inner'
    userScenarioConstraintBundle:
      properties:
        ATTR_NAME:
          type: string
          description: bundle attr name
        CVALUE:
          type: string
          description: bundle string value
        NVALUE:
          type: string
          description: bundle number value
        USER_CREATED:
          type: string
          description: bundle author
      description: Single user scenario constraint bundle
      example:
        CVALUE: CVALUE
        ATTR_NAME: ATTR_NAME
        USER_CREATED: USER_CREATED
        NVALUE: NVALUE
    userScenarioConstraints:
      type: array
      description: User scenario constraints
      items:
        $ref: '#/components/schemas/userScenarioConstraints_inner'
    userScenarioConstraintsCreate:
      type: array
      description: Schema for creating scenario constraints
      items:
        $ref: '#/components/schemas/userScenarioConstraintsCreate_inner'
    userScenarioConstraintsCreateResponse:
      type: array
      description: Schema for creating scenario constraints
      items:
        $ref: '#/components/schemas/userScenarioConstraintsCreateResponse_inner'
    userScenarioConstraintsUpdate:
      type: array
      description: Scenario constraints
      items:
        $ref: '#/components/schemas/userScenarioConstraintsUpdate_inner'
    costRefRecord:
      type: array
      description: cost ref record item
      items:
        $ref: '#/components/schemas/costRefRecord_inner'
    businessDates:
      type: array
      description: List of available business dates
      items:
        $ref: '#/components/schemas/businessDates_inner'
    optimizationsIdList:
      type: array
      description: list of optimization ids
      items:
        $ref: '#/components/schemas/optimizationsIdList_inner'
    optimizationStartCollection:
      description: Optimization collection
      allOf:
        - $ref: '#/components/schemas/baseCollection'
        - type: object
          properties:
            items:
              type: array
              description: array of optimizations
              items:
                $ref: '#/components/schemas/optimizationStartCollection_items'
    classificationTableList:
      description: classification tables list
      allOf:
        - $ref: '#/components/schemas/baseCollection'
        - type: object
          properties:
            items:
              type: array
              description: array of optimizations
              items:
                $ref: '#/components/schemas/classificationTableList_items'
    user:
      properties:
        USER_NAME:
          type: string
          description: user name
        USER_ROLE:
          type: string
          description: user role
        USER_ID:
          type: string
          description: user id
      description: user information
      example:
        USER_ID: USER_ID
        USER_NAME: USER_NAME
        USER_ROLE: USER_ROLE
    body:
      properties:
        NAME_SCN:
          type: string
          description: name of duplicated scenario
        TEXT_COMMENT:
          type: string
          description: text comment
    inline_response_201:
      properties:
        SCENARIO_CD:
          type: string
          description: new scenario code
      example:
        SCENARIO_CD: SCENARIO_CD
    body_1:
      properties:
        ID:
          type: string
          description: id
    body_2:
      type: object
      properties:
        CHANNEL_NAME:
          type: string
          description: channel name
        CHANNEL_COST:
          type: string
          description: channel cost
    body_3:
      type: object
      properties:
        file:
          type: string
          format: binary
    userScenariosCollection_items:
      properties:
        SCENARIO_CD:
          type: string
          description: user scenario code
        SCENARIO_TEMPLATE_CD:
          type: string
          description: scenario template code attached to user scenario
        NAME_SCN:
          type: string
          description: user scenario name
        NAME_SCT:
          type: string
          description: scenario template name
        TEXT_COMMENT:
          type: string
          description: user scenario comment
        USER_UPDATED:
          type: string
          description: user name who updated scenario last
        DTTM_UPDATED:
          type: string
          description: datetime of last edition
        DTIME_LAST_OPTIMIZATION:
          type: string
          description: datetime of last optimization start
        SCHEDULED_FLG:
          type: string
          description: schedule flag
    constraints_inner:
      properties:
        ATTR_NAME:
          type: string
          description: attr name
        ATTR_LABEL:
          type: string
          description: attr label
      example:
        ATTR_NAME: ATTR_NAME
        ATTR_LABEL: ATTR_LABEL
    scenarioTemplateDIMConstraints_inner:
      properties:
        ATTR_NAME:
          type: string
          description: attr name
        ATTR_LABEL:
          type: string
          description: attr label
        DIM_TABLE_NAME:
          type: string
          description: attr table name
        CONSTRAINT_BUNDLE_CD:
          type: string
          description: constraint bundle cd
      example:
        DIM_TABLE_NAME: DIM_TABLE_NAME
        ATTR_NAME: ATTR_NAME
        ATTR_LABEL: ATTR_LABEL
        CONSTRAINT_BUNDLE_CD: CONSTRAINT_BUNDLE_CD
    userScenarioConstraints_inner:
      properties:
        CONSTRAINT_PARAMETER:
          type: string
          description: user scenario constraint bundle parameter
        BOUND_TYPE:
          type: string
          description: user scenario constraint bundle bound type
        VALUE:
          type: string
          description: user scneario constraint bundle value
        CORRECT_COEF:
          type: string
          description: user scenario constraint bundle correct coef
        CONSTRAINT_BUNDLE_ITEMS:
          type: array
          items:
            $ref: '#/components/schemas/userScenarioConstraintBundle'
      example:
        CORRECT_COEF: CORRECT_COEF
        BOUND_TYPE: BOUND_TYPE
        VALUE: VALUE
        CONSTRAINT_BUNDLE_ITEMS:
          - CVALUE: CVALUE
            ATTR_NAME: ATTR_NAME
            USER_CREATED: USER_CREATED
            NVALUE: NVALUE
          - CVALUE: CVALUE
            ATTR_NAME: ATTR_NAME
            USER_CREATED: USER_CREATED
            NVALUE: NVALUE
        CONSTRAINT_PARAMETER: CONSTRAINT_PARAMETER
    userScenarioConstraintsCreate_inner:
      properties:
        SCENARIO_CD:
          type: string
          description: user scenario code
        CONSTRAINT_PARAMETER:
          type: string
          description: user scenario constraint parameter
        BOUND_TYPE:
          type: string
          description: user scneario consrtaint bound type
        VALUE:
          type: string
          description: user scneario constraint value
        CORRECT_COEF:
          type: string
          description: user scenario constraint correction coef
        CONSTRAINT_BUNDLE_ITEMS:
          type: array
          items:
            allOf:
              - $ref: '#/components/schemas/userScenarioConstraintBundle'
    userScenarioConstraintsCreateResponse_inner:
      properties:
        SCENARIO_CD:
          type: string
          description: user scenario code
        SCENARIO_CONSTRAINT_CD:
          type: string
          description: user scneario constraint bundle code
        CONSTRAINT_PARAMETER:
          type: string
          description: user scenario constraint parameter
        BOUND_TYPE:
          type: string
          description: user scneario consrtaint bound type
        VALUE:
          type: string
          description: user scneario constraint value
        CORRECT_COEF:
          type: string
          description: user scenario constraint correction coef
        CONSTRAINT_BUNDLE_ITEMS:
          type: array
          items:
            allOf:
              - $ref: '#/components/schemas/userScenarioConstraintBundle'
      example:
        SCENARIO_CONSTRAINT_CD: SCENARIO_CONSTRAINT_CD
        CORRECT_COEF: CORRECT_COEF
        SCENARIO_CD: SCENARIO_CD
        BOUND_TYPE: BOUND_TYPE
        VALUE: VALUE
        CONSTRAINT_BUNDLE_ITEMS:
          - ""
          - ""
        CONSTRAINT_PARAMETER: CONSTRAINT_PARAMETER
    userScenarioConstraintsUpdate_inner:
      properties:
        SCENARIO_CONSTRAINT_CD:
          type: string
          description: Single attr name
        ACTIVE_FLG:
          type: boolean
          description: Constraint flag status
    costRefRecord_inner:
      properties:
        CHANNEL_ID:
          type: string
          description: id of channel cost ref
        CHANNEL_NAME:
          type: string
          description: name of channel
        CHANNEL_COST:
          type: string
          description: cost of channel
      example:
        CHANNEL_ID: CHANNEL_ID
        CHANNEL_COST: CHANNEL_COST
        CHANNEL_NAME: CHANNEL_NAME
    businessDates_inner:
      properties:
        DATE:
          type: string
          description: business date
      example:
        DATE: DATE
    optimizationsIdList_inner:
      properties:
        OPTIMIZATION_ID:
          type: string
          description: optimization id item
        DATE:
          type: string
          description: date of optimization
      example:
        OPTIMIZATION_ID: OPTIMIZATION_ID
        DATE: DATE
    optimizationStartCollection_items:
      properties:
        OPTIMIZATION_ID:
          type: string
          description: optimization id
        SCENARIO_NAME:
          type: string
          description: scenario name
        SCENARIO_TEMPLATE_NAME:
          type: string
          description: template name
        BUSINESS_DTIME:
          type: string
          description: business date
        TEXT_COMMENT:
          type: string
          description: text comment
        USER_UPDATED:
          type: string
          description: authour of optimization
        DTIME_LAST_OPTIMIZATION:
          type: string
          description: date of last optimization
        OPTIMIZATION_STATUS:
          type: string
          description: optimization status
        OPTIMIZATION_PUBLICATION_STATUS:
          type: string
          description: status of publication
    classificationTableList_items:
      properties:
        TABLE_NAME:
          type: string
          description: table name
        TABLE_DESCRIPTION:
          type: string
          description: table description
        TABLE_DTIME_UPDATE:
          type: string
          description: update date
        TABLE_USER:
          type: string
          description: table user
  parameters:
    ifMatch:
      name: If-Match
      in: header
      description: The entity tag obtained from the most recent ETag response header.
        It must match the current entity tag.
      required: true
      style: simple
      explode: false
      schema:
        type: string
    ifUnmodifiedSince:
      name: If-Unmodified-Since
      in: header
      description: The value of the lastModified date of the object. If the object
        has been updated since this time, the update fails.
      required: false
      style: simple
      explode: false
      schema:
        type: string
    start:
      name: start
      in: query
      description: Offset of the first object to return. Defaults to 0.
      required: false
      style: form
      explode: true
      schema:
        type: integer
    limit:
      name: limit
      in: query
      description: Maximum number of objecs to return. Defaults to 10.
      required: false
      style: form
      explode: true
      schema:
        type: integer
    filterQuery:
      name: filterQuery
      in: query
      description: |
        Basic filtering criteria in exploded form. See [Basic Filtering](https://developer.sas.com/apis/rest/Topics/#basic-filtering)
      required: false
      style: form
      explode: true
      schema:
        type: object
        additionalProperties:
          type: string
    filter:
      name: filter
      in: query
      description: |
        Filter criteria for selecting objects to return. See [Filtering in SAS Viya REST APIs](https://developer.sas.com/apis/rest/Topics/#filters)
      required: false
      style: form
      explode: true
      schema:
        type: string
    sortBy:
      name: sortBy
      in: query
      description: Sort criteria for the collection
      required: false
      style: form
      explode: true
      schema:
        type: string
    constraintBundles:
      name: constraintBundles
      in: query
      description: list of constraint bundles for particular scenario
      required: true
      style: form
      explode: false
      schema:
        type: array
        items:
          type: string
  headers:
    Etag:
      description: A tag that identifies this revision of this object.
      style: simple
      explode: false
      schema:
        type: string
    Last-Modified:
      description: The RFC 1123 date string representing the timestamp of the last
        update to this object.
      style: simple
      explode: false
      schema:
        type: string
